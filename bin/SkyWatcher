#!/bin/bash

API_KEY="Your-KEY"
LATITUDE=""
LONGITUDE=""

get_weather() {
    local weather_data temperature condition_code icon condition
    
    # Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù‚Ø³ Ù…Ù† OpenWeatherMap
    weather_data=$(curl -s "https://api.openweathermap.org/data/2.5/weather?lat=$LATITUDE&lon=$LONGITUDE&appid=$API_KEY&units=metric")
    temperature=$(echo "$weather_data" | jq '.main.temp')
    condition_code=$(echo "$weather_data" | jq '.weather[0].id')
    
    # ØªØ­ÙˆÙŠÙ„ Ø±Ù…Ø² Ø§Ù„Ø·Ù‚Ø³ Ø¥Ù„Ù‰ ÙˆØµÙ
    case "$condition_code" in
        800) condition="Clear" ;;  # ØµØ§ÙÙ
        801|802|803|804) condition="Cloudy" ;;  # ØºØ§Ø¦Ù… Ø¬Ø²Ø¦ÙŠÙ‹Ø§ Ø¥Ù„Ù‰ ÙƒÙ„ÙŠÙ‹Ø§
        701|711|721|731|741|751|761|771|781) condition="Fog" ;;  # Ø¶Ø¨Ø§Ø¨
        300|301|302|310|311|312|313|314|321) condition="Showers" ;;  # Ø²Ø®Ø§Øª Ù…Ø·Ø±ÙŠØ© Ø®ÙÙŠÙØ©
        500|501|502|503|504|511|520|521|522|531) condition="Rain" ;;  # Ø£Ù…Ø·Ø§Ø±
        600|601|602|611|612|613|615|616|620|621|622) condition="Snow" ;;  # Ø«Ù„ÙˆØ¬
        200|201|202|210|211|212|221|230|231|232) condition="Thunderstorm" ;;  # Ø¹ÙˆØ§ØµÙ Ø±Ø¹Ø¯ÙŠØ©
        *) condition="" ;;  # ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ
    esac
    
    local hour=$(date '+%H')  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (00-23)
    
    # Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø­Ø³Ø¨ Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù‚Ø³ ÙˆØ§Ù„ÙˆÙ‚Øª
    if [ "$hour" -ge 18 ] || [ "$hour" -lt 6 ]; then
        case "$condition" in
            "Clear") icon="ğŸŒ™" ;;  # Ø³Ù…Ø§Ø¡ ØµØ§ÙÙŠØ© Ù„ÙŠÙ„Ø§Ù‹
            "Cloudy") icon="â˜" ;;
            "Fog") icon="ğŸŒ«ï¸" ;;
            "Showers" | "Rain") icon="ğŸŒ§ï¸" ;;
            "Snow") icon="â„" ;;
            "Thunderstorm") icon="â›ˆï¸" ;;
            *) icon="ğŸŒ" ;;
        esac
    else
        case "$condition" in
            "Clear") icon="â˜€" ;;
            "Cloudy") icon="â˜" ;;
            "Fog") icon="ğŸŒ«ï¸" ;;
            "Showers" | "Rain") icon="ğŸŒ§ï¸" ;;
            "Snow") icon="â„" ;;
            "Thunderstorm") icon="â›ˆï¸" ;;
            *) icon="ğŸŒ" ;;
        esac
    fi
    
    echo "${icon} ${condition} ${temperature}Â°C"
}

get_weather

