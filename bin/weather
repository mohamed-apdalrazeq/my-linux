#!/bin/bash

get_weather() {
    local weather_data
    weather_data=$(curl -s 'v2.wttr.in?format=%C+%t')

    local condition temperature
    condition=$(echo "$weather_data" | awk '{print $1}')
    temperature=$(echo "$weather_data" | awk '{print $2}')

    local hour
    hour=$(date '+%H')  # Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (00-23)

    local icon
    if [ "$hour" -ge 18 ] || [ "$hour" -lt 6 ]; then
        # Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ÙˆÙ‚Øª Ø¨ÙŠÙ† 6 Ù…Ø³Ø§Ø¡Ù‹ Ùˆ 6 ØµØ¨Ø§Ø­Ù‹Ø§ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ù„ÙŠÙ„
        case "$condition" in
            "Clear" | "Sunny") icon="ğŸŒ™" ;;  # Ø³Ù…Ø§Ø¡ ØµØ§ÙÙŠØ© Ù„ÙŠÙ„Ø§Ù‹
            "Cloudy") icon="â˜ï¸" ;;
            "Overcast") icon="ğŸŒ¥ï¸" ;;
            "Rain" | "Showers") icon="ğŸŒ§ï¸" ;;
            "Thunderstorm") icon="â›ˆï¸" ;;
            "Snow") icon="â„ï¸" ;;
            "Fog") icon="ğŸŒ«ï¸" ;;
            *) icon="ğŸŒ" ;;
        esac
    else
        # ÙÙŠ Ø§Ù„Ù†Ù‡Ø§Ø± Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
        case "$condition" in
            "Clear") icon="â˜€" ;;
            "Sunny") icon="ğŸŒ" ;;
            "Cloudy") icon="â˜" ;;
            "Overcast") icon="ğŸŒ¥ï¸" ;;
            "Rain" | "Showers") icon="ğŸŒ§ï¸" ;;
            "Thunderstorm") icon="â›ˆï¸" ;;
            "Snow") icon="â„" ;;
            "Fog") icon="ğŸŒ«ï¸" ;;
            *) icon="ğŸŒ" ;;
        esac
    fi

    echo "$icon $condition $temperature"
}

get_weather

